var GLOBAL={wW:void 0,wH:void 0,is_process:!1,is_spview:!1,is_mobile:!!document.documentElement.classList.contains("touch"),is_popstate:!1,methods:{core:{},ui:{},util:{}},observers:[],swipers:[]};let $gh;GLOBAL.util={generateId:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var o=16*Math.random()|0;return("x"===e?o:3&o|8).toString(16)}))},easing:{linear:[.25,.25,.75,.75],ease:[.25,.1,.25,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1],easeInQuad:[.55,.085,.68,.53],easeInCubic:[.55,.055,.675,.19],easeInQuart:[.895,.03,.685,.22],easeInQuint:[.755,.05,.855,.06],easeInSine:[.47,0,.745,.715],easeInExpo:[.95,.05,.795,.035],easeInCirc:[.6,.04,.98,.335],easeInBack:[.6,-.28,.735,.045],easeOutQuad:[.25,.46,.45,.94],easeOutCubic:[.215,.61,.355,1],easeOutQuart:[.165,.84,.44,1],easeOutQuint:[.23,1,.32,1],easeOutSine:[.39,.575,.565,1],easeOutExpo:[.19,1,.22,1],easeOutCirc:[.075,.82,.165,1],easeOutBack:[.175,.885,.32,1.275],easeInOutQuad:[.455,.03,.515,.955],easeInOutCubic:[.645,.045,.355,1],easeInOutQuart:[.77,0,.175,1],easeInOutQuint:[.86,0,.07,1],easeInOutSine:[.445,.05,.55,.95],easeInOutExpo:[1,0,0,1],easeInOutCirc:[.785,.135,.15,.86],easeInOutBack:[.68,-.55,.265,1.55],opacity1:[.26,.06,0,1],opacity2:[.18,.06,.23,1],transform1:[.43,.05,.17,1],transform2:[.55,.05,.22,.99]},inview:function(e){if(void 0!==GLOBAL.wW&&void 0!==GLOBAL.wH){var o=e.get(0).getBoundingClientRect();return o.left+o.width>0&&o.left<=GLOBAL.wW&&o.top+o.height>0&&o.top<=GLOBAL.wH}},openLinkPopup:function(e,o,t,n){var i,s,a;a=["toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=no,resizable=no,width="+(i=t||650),",height="+(s=n||600),",left="+(screen.availWidth/2-i/2),",top="+(screen.availHeight/2-s/2)].join(""),window.open(e,o,a).focus()},htmlspecialchars:function(e){return(e+"").replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},elementsFromPoint:function(e,o){for(var t,n=[],i=[];(t=document.elementFromPoint(e,o))&&-1===n.indexOf(t)&&null!==t;)n.push(t),i.push({value:t.style.getPropertyValue("pointer-events"),priority:t.style.getPropertyPriority("pointer-events")}),t.style.setProperty("pointer-events","none","important");for(var s=i.length;s>0;s--){var a=i[s];n[s].style.setProperty("pointer-events",a.value?a.value:"",a.priority)}return n},exists:function(e){return $(e).length>0},load_video_api:function(e){if(e=Object.assign({complete:function(){return!0}},e),!0===GLOBAL.is_yt_api_loaded)e.complete();else{var o=document.createElement("script");o.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(o,t);window.onYouTubeIframeAPIReady=function(){GLOBAL.is_yt_api_loaded=!0,e.complete()}}}},function(){const e=function(e){!0===e?Cookies.set("onotakehiko_debug","1",{path:"/"}):Cookies.remove("onotakehiko_debug",{path:"/"})};var o=purl(location.href);o&&o.search&&(-1!==o.search.indexOf("debug=1")?e(!0):-1!==o.search.indexOf("debug=0")&&e(!1)),Cookies.get("onotakehiko_debug")&&1===parseInt(Cookies.get("onotakehiko_debug"))?GLOBAL.debug=!0:GLOBAL.debug=!1,!1===GLOBAL.debug&&(console.log=function(){})}(),$((function(){let e=!1;var o=function(){if(GLOBAL.wW=$(window).width(),GLOBAL.wH=$(window).height(),$("html").attr("data-tablet","0"),GLOBAL.wW<768?GLOBAL.is_spview=!0:GLOBAL.is_spview=!1,cssua.userAgent.mobile){var e=new MobileDetect(window.navigator.userAgent);e.tablet()?GLOBAL.wW<768?GLOBAL.is_spview=!0:(GLOBAL.is_spview=!1,$("html").attr("data-tablet","1")):GLOBAL.is_spview=!0,e=void 0}};$(window).on("resize.core",(function(){e||(window.requestAnimationFrame((function(){o(),e=!1})),e=!0)})),o()})),GLOBAL.methods.util.destroyObservers=function(){console.log(`destroyObservers: ${GLOBAL.observers.length} observers.`),GLOBAL.observers.forEach((function(e,o){"object"==typeof e&&e.destroy&&(e.destroy(),delete GLOBAL.observers[o])})),GLOBAL.observers=[]},GLOBAL.methods.util.destroySwipers=function(){console.log(`destroySwipers: ${GLOBAL.swipers.length} swipers.`),GLOBAL.swipers.forEach((function(e,o){e.destroy(),delete GLOBAL.swipers[o]})),GLOBAL.swipers=[]},GLOBAL.methods.util.display_modal=e=>{!0===(e=Object.assign({mode:null,complete:function(){return!0}},e)).mode?($(".p-modal").show(),gsap.to(".p-modal__veil",{opacity:.8,duration:.6}),gsap.fromTo(".p-modal__video",{scale:1.05},{opacity:1,scale:1,duration:.6,delay:.3,onComplete:function(){e.complete()}})):(gsap.to(".p-modal__video",{opacity:0,scale:1.05,duration:.3}),gsap.to(".p-modal__veil",{opacity:0,duration:.6,onComplete:function(){$(".p-modal").hide(),e.complete()}}))},GLOBAL.methods.util.lazy=function(e){if(!0===(e=Object.assign({mode:!0,wrapper:null,complete:function(){return!0}},e)).mode){if($(e.wrapper).find("img[data-src]").hasClass("is--loaded"))return!1;let o=new MultipleIO($(e.wrapper).find("img[data-src]"),{onEnter:e=>{const o=e;if($(o).hasClass("is--loaded"))return!1;ajaxWorker({url:o.getAttribute("data-src"),dataType:"image",elementType:"blob",success:function(e){let t=URL.createObjectURL(e);o.onload=function(){this.onload=void 0,URL.revokeObjectURL(t)},o.src=t},error:function(){},complete:function(){o.classList.add("is--loaded")}})},triggerOnce:!0});GLOBAL.observers.push(o)}else e.mode},GLOBAL.methods.util.lazyall=function(e){if(!0===(e=Object.assign({mode:!0,wrapper:null,worker:!1,swiper:!1,complete:function(){return!0}},e)).mode){const o=$(e.wrapper),t=o.find("img[data-src]");if(e.swiper){const e=$('<p class="c-spinner"><img src="/assets/images/spinner--black.svg" alt=""></p>');o.append(e)}let n=[];t.each((function(){const o=$(this)[0],t=new Promise((function(t,n){!0===e.worker?ajaxWorker({url:o.getAttribute("data-src"),dataType:"image",elementType:"blob",success:function(e){let n=URL.createObjectURL(e);o.onload=function(){this.onload=void 0,URL.revokeObjectURL(n)},o.src=n,t()},error:function(){n()},complete:function(){o.classList.add("is--loaded")}}):(o.onload=function(){o.onload=void 0,o.classList.add("is--loaded"),t()},o.onerror=function(){o.onerror=void 0,n()},o.src=o.getAttribute("data-src"))}));n.push(t)})),Promise.all(n).then((function(){e.swiper?gsap.to(o.find(".c-spinner"),{opacity:0,onComplete:function(){o.find(".c-spinner").remove(),e.complete()}}):e.complete()}))}else e.mode},GLOBAL.methods.util.showInsetMask=function(e){!0===(e=Object.assign({mode:!0,target:null,stagger:0,complete:function(){return!0}},e)).mode?$(e.target).each((function(o){const t=$(this);let n={value:100};gsap.to(n,{value:0,duration:.6,delay:e.stagger*o,onUpdate:function(){t.css({clipPath:`inset(0% ${n.value}% 0% 0%)`})},onComplete:function(){gsap.to(t.find(".is--mask"),{translateX:"100%",duration:.3})}})})):e.mode},$((function(){function e(e){!0===(e=Object.assign({mode:null,complete:function(){return!0}},e)).mode?(!function(){let e=new MultipleIO(".p-hero .swiper",{onEnter:()=>{const e=[new Promise((function(e){$(".p-hero .p-hero__body").imagesLoaded((function(){e()}))})),new Promise((function(e){GLOBAL.methods.util.lazyall({mode:!0,wrapper:".p-hero .swiper",worker:!1,swiper:!0,complete:function(){e()}})}))];Promise.all(e).then((function(){GLOBAL.methods.util.showInsetMask({mode:!0,stagger:.15,target:".p-hero .p-hero__body .c-inset-mask"});const e=new Swiper(".p-hero .swiper",{init:!1,autoHeight:0,loop:1,autoplay:{delay:6e3},effect:"fade",fadeEffect:{crossFade:!0},pagination:{el:".p-hero .swiper-pagination"},navigation:0,scrollbar:0,allowTouchMove:0});e.on("slideChange",(function(){$(".p-hero__progress").find(".c-progress").remove(),$(".p-hero__progress").append('\n\t\t\t\t\t\t\t\t\t<svg class="c-progress" viewBox="0 0 63.6619772368 63.6619772368">\n\t\t\t\t\t\t\t\t\t\t<circle cx="31.8309886184" cy="31.8309886184" r="15.9154943092" fill="transparent" stroke="#000000" stroke-dashoffset="25" stroke-width="1" stroke-dasharray="0 100"></circle>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t')})),e.init(),GLOBAL.swipers.push(e)}))},onLeave:()=>{},triggerOnce:!0});GLOBAL.observers.push(e)}(),function(){const e=$(".p-hero .swiper"),o=[];for(let e=0;e<=1;e+=.005)o.push(e);let t=!1;let n=new MultipleIO(".p-hero",{config:{threshold:o},onEnter:(o,n)=>{t||(window.requestAnimationFrame((function(){n<.95?e.css({transform:`translateY(${.3*(1-(n+(1-.95)))*100}%)`}):e.css({transform:"translateY(0%)"}),t=!1})),t=!0)},onLeave:()=>{},triggerOnce:!1});GLOBAL.observers.push(n)}(),$(".p-hero__arrow").on("click",(function(){gsap.to(window,{duration:.6,scrollTo:{y:".p-news",offsetY:$("#gh .p-gh__bar").height()}})}))):$(".p-hero__arrow").off("click")}function o(e){if(!0===(e=Object.assign({mode:null,complete:function(){return!0}},e)).mode){let e=new MultipleIO(".p-about__item__sub",{onEnter:()=>{GLOBAL.methods.util.lazyall({mode:!0,wrapper:".p-about__item__sub",worker:!1,complete:function(){const e=new Swiper(".p-about__item__sub .swiper-parent.is--upper .swiper",{init:0,autoHeight:0,autoplay:{delay:4500},loop:1,pagination:{el:".p-about__item__sub .swiper-parent.is--upper .swiper-pagination"},navigation:0,scrollbar:0}),o=new Swiper(".p-about__item__sub .swiper-parent.is--lower .swiper",{init:0,autoHeight:0,loop:1,pagination:0,navigation:0,scrollbar:0,allowTouchMove:0});e.init(),GLOBAL.swipers.push(e),o.init(),GLOBAL.swipers.push(o),e.controller.control=[o]}})},onLeave:()=>{},triggerOnce:!0});GLOBAL.observers.push(e)}}function t(e){if(!0===(e=Object.assign({mode:null,complete:function(){return!0}},e)).mode){let e=new MultipleIO(".p-top .p-people",{config:{rootMargin:"-50% 0%"},onEnter:e=>{e.setAttribute("data-theme","dark")},onLeave:e=>{e.setAttribute("data-theme","light")},triggerOnce:!1});GLOBAL.observers.push(e);const o=new Swiper(".p-people__crosstalk .swiper",{init:0,autoHeight:0,autoplay:{delay:4500},loop:1,pagination:{el:".p-people__crosstalk .swiper-pagination"},navigation:0,scrollbar:0});o.on("slideChange",(function(){GLOBAL.methods.util.lazy({mode:!0,wrapper:o.slides[o.activeIndex]})})),o.init(),GLOBAL.swipers.push(o),$(".p-people__interview__article a").on("click",(function(e){if(e.preventDefault(),e.stopPropagation(),!0===GLOBAL.is_process)return!1;GLOBAL.is_process=!0;const o=$(this).attr("data-video-id"),t=new YT.Player("player",{videoId:o});GLOBAL.methods.util.display_modal({mode:!0,complete:function(){GLOBAL.is_process=!1}}),$(".p-modal .p-modal__close").on("click.modal",(function(e){e.preventDefault(),e.stopPropagation(),$(".p-modal .p-modal__close").off("click.modal"),$(document).off("click.modal"),t.stopVideo(),GLOBAL.methods.util.display_modal({mode:!1,complete:function(){t.destroy()}})})),$(document).on("click.modal",(function(e){$.contains($(".p-modal__wrapper")[0],e.target)||(e.preventDefault(),e.stopPropagation(),$(".p-modal .p-modal__close").trigger("click.modal"))}))}))}else $(".p-people__interview__article a").off("click")}function n(e){if(!0===(e=Object.assign({mode:null,complete:function(){return!0}},e)).mode){const e=new Swiper(".p-story__slides .swiper",{init:0,initialSlide:1,autoHeight:0,loop:0,pagination:0,navigation:0,scrollbar:0,allowTouchMove:0});e.on("slideChange",(function(){GLOBAL.methods.util.lazy({mode:!0,wrapper:e.slides[e.activeIndex]})})),e.init(),GLOBAL.swipers.push(e),$(".p-story article").on("mouseenter",(function(){const o=$(this).index();e.slideTo(o)}))}else $(".p-story article").off("mouseenter")}$(window).on("initTop",(function(){console.log(" "),console.log("EVENT: initTop"),e({mode:!0}),o({mode:!0}),t({mode:!0}),n({mode:!0}),GLOBAL.methods.util.lazy({mode:!0,wrapper:".c-img-wrapper"})})),$(window).on("unloadTop",(function(){console.log(" "),console.log("EVENT: unloadTop"),GLOBAL.methods.util.destroyObservers(),GLOBAL.methods.util.destroySwipers(),e({mode:!1}),o({mode:!1}),t({mode:!1}),n({mode:!1}),GLOBAL.methods.util.lazy({mode:!1})}))})),$((function(){const e=()=>{const e=$(".p-gm .p-gm__list.is--main > li");!function(){let o=!1;const t=$("#gf .p-gm .p-gm__list.is--main > li"),n=()=>{let o=[],n=[];t.each((function(){o.push($(this).find("h4").outerHeight());$(this).find(".p-gm__list.is--sub > li").each((function(e){n[e]||(n[e]=[]),n[e].push($(this).find("> a").outerHeight())}))}));const i=Math.max.apply(null,o);e.find("h4").css("height",i),$.each(n,(function(o,t){const n=Math.max.apply(null,t);e.each((function(){$(this).find(".p-gm__list.is--sub > li").eq(o).css("height",n)}))}))};$(window).on("resize.menu",(function(){o||(window.requestAnimationFrame((function(){n(),o=!1})),o=!0)})),n()}(),e.on("click",(function(e){e.preventDefault();const o=$(this).find("h4 > a"),t=o.attr("href");o.attr("target")&&"_blank"===o.attr("target")?window.open(t):location.href=t})),e.find("a").on("click",(function(e){e.stopPropagation()})),function(){const e=$(".p-sh__menu a"),o=e.find("span");e.on("click",(function(t){t.preventDefault(),e.addClass("is--disabled"),$gh.hasClass("is--opened")?(gsap.to(e,{backgroundColor:"#000000",rotate:"0deg",dutation:.3,onComplete:function(){o.eq(0).css({backgroundColor:"",width:"0%",transform:""}),o.eq(1).css({backgroundColor:"",width:"0%",transform:""}),gsap.to(o.eq(0),{width:"100%",duration:.15}),gsap.to(o.eq(1),{width:"84%",duration:.15,delay:.075,onComplete:function(){e.removeClass("is--disabled")}})}}),$gh.removeClass("is--opened")):(gsap.to(o.eq(0),{width:"0%",duration:.3}),gsap.to(o.eq(1),{width:"0%",duration:.3,delay:.15,onComplete:function(){o.eq(0).css({backgroundColor:"#000000",width:"100%",transform:"translateY(3px) rotate(45deg)"}),o.eq(1).css({backgroundColor:"#000000",width:"100%",transform:"translateY(-3px) rotate(135deg)"}),gsap.to(e,{backgroundColor:"#ffffff",rotate:"180deg",dutation:.3,onComplete:function(){e.removeClass("is--disabled")}}),$gh.addClass("is--opened")}}))}))}(),function(){let e=0,o=!1;const t=()=>{window.pageYOffset>=e?$gh.hasClass("is--scrolled")||$gh.addClass("is--scrolled"):$gh.hasClass("is--scrolled")&&$gh.removeClass("is--scrolled")};$(window).on("resize.gh",(function(){o||(window.requestAnimationFrame((function(){t(),o=!1})),o=!0)})),$(window).on("scrollend.gh",90,(function(){o||(window.requestAnimationFrame((function(){t(),o=!1})),o=!0)})),e=GLOBAL.wH-$gh.find(".p-gh__bar").height()-1,t()}()};function o(){let e=!1;const o=$(".p-scroll-to-top").find("a");o.on("click.stt",(function(e){e.preventDefault(),gsap.to(window,{duration:.6,scrollTo:{y:0}})}));$(window).on("scroll.stt",(function(){e||(window.requestAnimationFrame((function(){window.pageYOffset>GLOBAL.wH?o.hasClass("is--active")||o.addClass("is--active"):o.hasClass("is--active")&&o.removeClass("is--active"),e=!1})),e=!0)}))}$(window).on("initUI",(function(){console.log(" "),console.log("EVENT: initUI"),e(),o()})),$(window).on("unloadUI",(function(){console.log(" "),console.log("EVENT: unloadUI")}))})),$((function(){$gh=$("#gh"),$(window).on("initCommon",(function(){console.log(" "),console.log("EVENT: initCommon"),function(){gsap.defaults({ease:"power2.inOut"});let e=new $.Event("initUI");$(window).trigger(e),$("main.p-top")&&(e=new $.Event("initTop"),$(window).trigger(e))}()})),$(window).on("unloadCommon",(function(){console.log(" "),console.log("EVENT: unloadCommon")}));const e=[new Promise((function(e){GLOBAL.util.load_video_api({complete:function(){e()}})}))];Promise.all(e).then((function(){let e=new $.Event("initCommon");$(window).trigger(e)}))}));